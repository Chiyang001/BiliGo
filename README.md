# BiliGo - B站私信自动回复系统

一个基于Python Flask的B站私信自动回复管理系统，支持关键词匹配和自动回复功能。由UP主[炽阳001](https://space.bilibili.com/404891612)开发。

## 功能特性

- 🤖 **智能自动回复**: 根据关键词自动回复私信
- 🔍 **关键词管理**: 支持添加、编辑、删除关键词规则
- 📊 **实时监控**: 实时显示运行状态和日志
- 🌐 **Web界面**: 友好的Web管理界面
- ⚡ **高效稳定**: 优化的消息处理机制，固定1秒发送间隔
- 🔄 **自动重启**: 5秒无回复自动重启，保证系统稳定性

## 安装步骤

### 1. 安装依赖
```bash
pip install -r requirements.txt
```

### 2. 获取B站Cookie
1. 打开浏览器，登录B站
2. 按F12打开开发者工具
3. 切换到Network标签
4. 刷新页面或访问任意B站页面
5. 在请求中找到Cookie，复制以下两个值：
   - `SESSDATA`
   - `bili_jct`

### 3. 运行程序
```bash
python app.py
```

### 4. 访问管理界面
打开浏览器访问: http://localhost:4999

## 使用说明

### 配置系统
1. 在Web界面中填入获取的Cookie信息
2. 点击"保存配置"按钮

### 管理关键词
1. 在"关键词回复设置"区域填写规则标题、关键词和回复内容
2. 点击"添加规则"按钮
3. 可以随时编辑、删除或禁用已添加的规则

### 启动自动回复
1. 确保已正确配置Cookie和关键词
2. 点击"开始监控"按钮开始自动回复
3. 系统会自动检查私信并回复匹配的消息

## 系统优化

- **固定1秒发送间隔**: 避免触发B站频率限制
- **5秒无回复自动重启**: 确保系统持续稳定运行
- **消息验证机制**: 确认消息是否真正发送成功
- **缓存清理机制**: 定期清理缓存，防止内存泄漏
- **错误重试机制**: 连续错误自动重新初始化系统

## 注意事项

⚠️ **重要提醒**:
- 请遵守B站用户协议，合理使用自动回复功能
- Cookie信息请妥善保管，不要泄露给他人
- 建议定期更新Cookie信息

## 技术架构

- **后端**: Python Flask
- **前端**: HTML + CSS + JavaScript
- **数据存储**: JSON文件
- **API接口**: RESTful API

## 文件结构

```
BiliGo/
├── app.py              # 主程序文件
├── requirements.txt    # 依赖包列表
├── README.md           # 说明文档
├── index.html          # Web界面
├── style.css           # 样式文件
├── script.js           # 前端脚本
├── config.json         # 配置文件（自动生成）
├── keywords.json       # 关键词文件（自动生成）
└── processed_messages.json # 已处理消息记录（自动生成）
```

## API接口

### 配置管理
- `GET /api/config` - 获取配置
- `POST /api/config` - 保存配置

### 关键词管理
- `GET /api/rules` - 获取规则列表
- `POST /api/rules` - 保存规则

### 自动回复控制
- `POST /api/start` - 启动自动回复
- `POST /api/stop` - 停止自动回复
- `GET /api/status` - 获取运行状态
- `GET /api/logs` - 获取最新日志

## 常见问题

### Q: Cookie过期怎么办？
A: 重新登录B站，按照步骤重新获取Cookie信息并更新配置。

### Q: 为什么无法连接B站？
A: 请检查Cookie信息是否正确，网络是否正常，以及是否被B站限制访问。

### Q: 系统运行一段时间后停止回复？
A: 系统有5秒无回复自动重启机制，如果仍然不工作，可能是Cookie过期或网络问题，请重新配置。

### Q: 如何设置多个关键词触发同一回复？
A: 在关键词输入框中用中文逗号（，）分隔多个关键词。

## 联系方式

- B站UP主: [炽阳001](https://space.bilibili.com/404891612)
- 邮箱: 3083248889@qq.com
- QQ: 3083248889

## 许可证

本项目仅供学习交流使用，请勿用于商业用途。